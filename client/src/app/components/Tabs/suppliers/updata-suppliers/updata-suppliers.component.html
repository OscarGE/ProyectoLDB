<br><br>
<div class="col-md-10 offset-md-1">
  <div class="card">
    <div class="card-header tituloCard" id='formUsr'><i class="fas fa-truck"></i> Proveedores</div> 
    <div class="cardd-body"> 
      <div class="card text-center" >
        <div class="card-body">
          <form [formGroup]="form" (ngSubmit)="editprovider($event)">
            <br>
            <div class="mb-2 form-floating">
                <input type="text" class="form-control" name="name" formControlName="name" placeholder="Nombre del proveedor">
                <label style="color: #AEB6BF">Nombre del proveedor</label>
                <!-- Directiva para mostrar mensajes reactivos -->
                <div *ngIf="form.get('name')!.errors && form.get('name')!.touched || existeName">
                <p class="msjErr" *ngIf="form.get('name')!.hasError('required')">
                    <i class="fas fa-times-circle"></i> Éste campo es requerido
                </p>
                <p class="msjErr" *ngIf="existeName">
                  <i class="fas fa-times-circle"></i> Éste proveedor ya está registrado
                </p>
                </div>
            </div>
            <div class="mb-2 form-floating">
              <textarea class="form-control" placeholder="Descripción" name="description" formControlName="description"></textarea>
              <label style="color: #AEB6BF">Descripción</label>
              <!-- Directiva para mostrar mensajes reactivos -->
              <div *ngIf="form.get('description')!.errors && form.get('description')!.touched">
              <p class="msjErr" *ngIf="form.get('description')!.hasError('required')">
                <i class="fas fa-times-circle"></i> Este campo es requerido
              </p>
              </div>
            </div>
            <p class="separador2 text-center"><i class="fas fa-map-marker-alt"></i> Localización</p>
            <div class="row">
              <div class="col-sm-12 col-md-12 col-lg-4">
                <div class="mb-2 form-floating">
                  <select
                    class="form-select form-control " name="country" formControlName="country">
                    <option *ngFor="let country of countryList;" [value]="country">
                    {{country}}
                    </option>
                  </select>
                  <label style="color: #AEB6BF">País</label>
                  <!-- Directiva para mostrar mensajes reactivos -->
                  <div *ngIf="form.get('country')!.errors && form.get('country')!.touched">
                    <p class="msjErr" *ngIf="form.get('country')!.hasError('required')">
                      <i class="fas fa-times-circle"></i> Este campo es requerido
                    </p>
                  </div>                                       
                </div>
              </div>
              <div class="col-sm-12 col-md-12 col-lg-4">
                <div class="mb-2 form-floating">
                  <input type="text" class="form-control" name="state" formControlName="state" placeholder="Estado">
                  <label style="color: #AEB6BF">Estado</label>
                  <!-- Directiva para mostrar mensajes reactivos -->
                  <div *ngIf="form.get('state')!.errors && form.get('state')!.touched">
                    <p class="msjErr" *ngIf="form.get('state')!.hasError('required')">
                      <i class="fas fa-times-circle"></i> Este campo es requerido
                    </p>
                  </div>                    
                </div>
              </div>
              <div class="col-sm-12 col-md-12 col-lg-4">
                <div class="mb-2 form-floating">
                  <input type="text" class="form-control" name="city" formControlName="city" placeholder="Ciudad">
                  <label style="color: #AEB6BF">Ciudad</label>
                  <!-- Directiva para mostrar mensajes reactivos -->
                  <div *ngIf="form.get('city')!.errors && form.get('city')!.touched">
                    <p class="msjErr" *ngIf="form.get('city')!.hasError('required')">
                      <i class="fas fa-times-circle"></i> Este campo es requerido
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12 col-md-12 col-lg-4">
                <div class="mb-3 form-floating">
                  <input type="tel" class="form-control" name="postal" formControlName="postal" placeholder="Código postal">
                  <label style="color: #AEB6BF">Código postal</label>
                  <!-- Directiva para mostrar mensajes reactivos -->
                  <div *ngIf="form.get('postal')!.errors && form.get('postal')!.touched">
                    <p class="msjErr" *ngIf="form.get('postal')!.hasError('required')">
                      <i class="fas fa-times-circle"></i> Este campo es requerido
                    </p>
                    <p class="msjErr" *ngIf="form.get('postal')!.hasError('pattern')">
                      <i class="fas fa-times-circle"></i> Este campo acepta solo números
                    </p>
                  </div>
                </div>
              </div>
              <div class="col-sm-12 col-md-12 col-lg-8">
                <div class="mb-3 form-floating">
                  <textarea class="form-control" name="address" formControlName="address" placeholder="Dirección"></textarea>
                  <label style="color: #AEB6BF">Dirección</label>
                  <!-- Directiva para mostrar mensajes reactivos -->
                  <div *ngIf="form.get('address')!.errors && form.get('address')!.touched">
                    <p class="msjErr" *ngIf="form.get('address')!.hasError('required')">
                      <i class="fas fa-times-circle"></i> Este campo es requerido
                    </p>
                  </div>           
                </div>
              </div>
            </div>
            <p class="separador2 text-center"><i class="fas fa-address-book"></i> Lista de contactos</p>
            <div class="row">
              <div class="col-sm-12 col-md-12 col-lg-3" *ngFor="let contact of contactList; let i=index;">
                <div class="card">
                  <div class="card-body">
                    <div class="row">
                      <div class="col-sm-6 col-md-6 col-lg-6 d-md-flex justify-content-md-star">
                        <h5 class="card-title">{{typeList[i]}}</h5>
                      </div>
                      <div class="col-sm-6 col-md-6 col-lg-6 d-md-flex justify-content-md-end">
                        <button type="button" class="btn btn-danger" on-click="deleteContact(i)"><i class="fas fa-trash-alt"></i></button>
                      </div>
                    </div>
                    <p class="card-text">{{contactList[i]}}</p>
                  </div>
                </div>
              </div>  
            </div>
            <div class="row">
              <div class="col-sm-12 col-md-12 col-lg-4">
                <div class="mb-2 form-floating">
                  <select
                    #type class="form-select form-control " name="type" formControlName="type">
                    <option *ngFor="let typeContact of typeContactList;" [value]="typeContact">
                    {{typeContact}}
                    </option>
                  </select>
                  <label style="color: #AEB6BF">Tipo de contacto</label>
                  <!-- Directiva para mostrar mensajes reactivos -->                                     
                </div> 
              </div>
              <div class="col-sm-12 col-md-12 col-lg-4">
                <div class="mb-2 form-floating">
                  <input #contact type="text" class="form-control" name="contact" formControlName="contact" placeholder="Contacto">
                  <label style="color: #AEB6BF">Contacto</label>
                  <!-- Directiva para mostrar mensajes reactivos -->
                </div>
              </div>
              <div class="col-sm-12 col-md-12 col-lg-3">
                <button type="button" [disabled]="!canAddContact" class="btn btn-warning btn-lg d-grid justify-content-md-start" on-click="addContact()">Añadir contacto</button>
              </div>
            </div>  
            <br>
            <input type="submit" [disabled]="form.invalid || existeName"  class="btn btn-success btn-lg" value="Editar">
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

